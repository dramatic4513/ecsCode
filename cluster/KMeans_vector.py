import matplotlib.pyplot as plt
import numpy as np
from sklearn.cluster import KMeans

# 示例数据
data = [[11, 2, 12, 1], [7, 1, 11, 1], [18, 3, 12, 1], [18, 3, 12, 1], [18, 1, 7, 1], [3, 16, 12, 1], [3, 1, 7, 1], [23, 4, 12, 1], [23, 1, 7, 1], [3, 1, 7, 1], [3, 16, 12, 1], [3, 4, 5, 1], [5, 5, 4, 1], [2, 12, 0, 1], [2, 1, 7, 1], [2, 8, 5, 1], [6, 1, 5, 3], [9, 1, 5, 4], [4, 1, 5, 5], [7, 1, 18, 1], [12, 1, 18, 3], [16, 1, 18, 8], [18, 4, 17, 4], [18, 3, 17, 3], [18, 10, 17, 10], [17, 4, 3, 4], [17, 3, 3, 16], [2, 1, 7, 1], [2, 11, 4, 1], [4, 1, 5, 5], [18, 3, 12, 1], [18, 1, 7, 1], [18, 7, 4, 1], [3, 16, 12, 1], [3, 1, 7, 1], [3, 7, 4, 1], [23, 4, 12, 1], [23, 1, 7, 1], [23, 8, 4, 1], [18, 3, 12, 1], [18, 1, 7, 1], [18, 8, 16, 1], [4, 1, 5, 5], [18, 8, 16, 1], [18, 1, 7, 1], [23, 3, 7, 1], [23, 12, 4, 1], [23, 14, 24, 1], [18, 1, 7, 1], [3, 1, 7, 1], [23, 1, 7, 1], [18, 3, 12, 1], [18, 1, 7, 1], [3, 16, 12, 1], [3, 1, 7, 1], [23, 4, 12, 1], [23, 1, 7, 1], [18, 1, 7, 1], [3, 1, 7, 1], [23, 1, 7, 1], [18, 3, 12, 1], [18, 1, 7, 1], [18, 3, 12, 1], [18, 1, 7, 1], [18, 3, 12, 1], [18, 1, 7, 1], [18, 8, 16, 1], [18, 1, 7, 1], [18, 3, 12, 1], [18, 4, 5, 1], [18, 1, 7, 1], [18, 4, 5, 1], [3, 1, 7, 1], [23, 1, 7, 1], [18, 1, 7, 1], [18, 3, 12, 1], [18, 4, 5, 1], [18, 1, 7, 1], [18, 4, 5, 1], [3, 1, 7, 1], [3, 4, 5, 1], [23, 1, 7, 1], [23, 5, 5, 1], [5, 5, 4, 1], [10, 1, 9, 2], [6, 1, 5, 3], [9, 1, 5, 4], [17, 5, 6, 1], [7, 1, 18, 1], [18, 8, 16, 1], [18, 8, 16, 1], [3, 1, 7, 1], [3, 16, 12, 1], [3, 5, 6, 1], [3, 17, 13, 1], [18, 3, 12, 1], [18, 1, 7, 1], [18, 7, 4, 1], [3, 16, 12, 1], [3, 1, 7, 1], [3, 7, 4, 1], [23, 4, 12, 1], [23, 1, 7, 1], [23, 8, 4, 1], [18, 8, 16, 1], [23, 3, 7, 1], [23, 12, 4, 1], [23, 14, 24, 1], [17, 3, 18, 3], [17, 10, 18, 10], [17, 9, 14, 1], [5, 1, 18, 4], [18, 1, 7, 1], [5, 1, 23, 5], [23, 1, 7, 1], [5, 1, 3, 8], [3, 1, 7, 1], [3, 4, 5, 1], [5, 5, 4, 1], [3, 1, 7, 1], [18, 1, 7, 1], [18, 8, 16, 1], [17, 1, 7, 1], [17, 8, 16, 1], [3, 1, 7, 1], [2, 1, 7, 1], [23, 1, 7, 1], [23, 13, 21, 1], [22, 1, 7, 1], [22, 12, 21, 1], [16, 1, 18, 8], [18, 1, 7, 1], [18, 6, 9, 1], [6, 1, 18, 5], [18, 6, 9, 1], [6, 1, 18, 5], [18, 6, 9, 1], [6, 1, 18, 5], [18, 7, 4, 1], [18, 7, 4, 1], [18, 7, 4, 1], [23, 16, 20, 1], [23, 1, 7, 1], [23, 2, 19, 1], [23, 15, 15, 1], [3, 15, 20, 1], [3, 1, 7, 1], [3, 2, 19, 1], [3, 14, 15, 1], [18, 1, 7, 1], [18, 1, 7, 1], [23, 4, 12, 1], [23, 1, 7, 1], [3, 3, 7, 1], [3, 11, 4, 1], [3, 12, 0, 1], [23, 13, 21, 1], [23, 4, 22, 3], [23, 18, 22, 14], [23, 1, 7, 1], [6, 1, 22, 5], [6, 1, 22, 9], [4, 1, 22, 7], [14, 1, 22, 13], [7, 1, 18, 1], [12, 1, 18, 3], [16, 1, 18, 8], [18, 4, 17, 4], [18, 3, 17, 3], [18, 10, 17, 10], [17, 4, 3, 4], [17, 3, 3, 16], [3, 16, 12, 1], [3, 1, 7, 1], [0, 1, 3, 12], [12, 1, 11, 2], [11, 3, 20, 1], [11, 1, 7, 1], [18, 3, 17, 3], [18, 10, 17, 10], [18, 1, 7, 1], [18, 8, 16, 1], [18, 3, 12, 1], [18, 9, 13, 1], [3, 16, 2, 3], [3, 18, 2, 17], [3, 1, 7, 1], [3, 13, 1, 1], [3, 16, 12, 1], [3, 17, 13, 1], [23, 4, 22, 3], [23, 18, 22, 14], [23, 1, 7, 1], [23, 14, 24, 1], [23, 4, 12, 1], [23, 17, 13, 1], [18, 3, 12, 1], [18, 1, 7, 1], [3, 16, 11, 2], [20, 1, 11, 3], [12, 1, 3, 16], [3, 5, 6, 1], [3, 6, 9, 1], [3, 17, 13, 1], [2, 3, 3, 16], [2, 17, 3, 18], [3, 16, 12, 1], [3, 1, 7, 1], [18, 4, 5, 1], [22, 3, 23, 4], [22, 14, 23, 18], [12, 1, 3, 16], [7, 1, 3, 1], [3, 16, 12, 1], [7, 1, 3, 1], [16, 1, 18, 8], [18, 1, 7, 1], [6, 1, 18, 5], [6, 1, 18, 5], [6, 1, 18, 5], [18, 7, 4, 1], [18, 7, 4, 1], [18, 7, 4, 1], [7, 1, 18, 1], [18, 3, 12, 1], [17, 3, 12, 1], [17, 1, 7, 1], [2, 3, 12, 1], [2, 1, 7, 1], [22, 3, 12, 1], [22, 1, 7, 1], [5, 1, 18, 4], [18, 1, 7, 1], [5, 1, 23, 5], [23, 1, 7, 1], [7, 1, 23, 1], [7, 1, 3, 1], [7, 1, 18, 1], [7, 1, 23, 1], [12, 1, 23, 4], [18, 1, 7, 1], [18, 7, 4, 1], [23, 1, 7, 1], [23, 8, 4, 1], [11, 2, 12, 1], [11, 3, 20, 1], [11, 1, 7, 1], [11, 2, 12, 1], [11, 3, 20, 1], [11, 1, 7, 1], [3, 16, 2, 3], [3, 18, 2, 17], [18, 8, 16, 1], [18, 4, 5, 1], [18, 3, 12, 1], [18, 3, 17, 3], [18, 10, 17, 10], [18, 9, 13, 1], [5, 1, 18, 4], [18, 1, 7, 1], [5, 1, 23, 5], [23, 1, 7, 1], [5, 1, 3, 8], [3, 1, 7, 1], [5, 1, 18, 4], [18, 1, 7, 1], [5, 1, 3, 4], [3, 1, 7, 1], [5, 1, 23, 5], [23, 1, 7, 1], [7, 1, 18, 1], [12, 1, 18, 3], [16, 1, 18, 8], [18, 4, 17, 4], [18, 3, 17, 3], [18, 10, 17, 10], [17, 4, 3, 4], [17, 3, 3, 16], [18, 1, 7, 1], [18, 8, 16, 1], [18, 9, 13, 1], [18, 4, 5, 1], [4, 1, 5, 5], [18, 3, 12, 1], [18, 1, 7, 1], [18, 8, 16, 1], [18, 4, 5, 1], [4, 1, 5, 5], [18, 3, 12, 1], [11, 2, 12, 1], [7, 1, 11, 1], [3, 16, 12, 1], [7, 1, 18, 1], [16, 1, 18, 8], [18, 4, 5, 1], [22, 1, 7, 1], [22, 11, 4, 1], [4, 1, 5, 5], [3, 3, 7, 1], [3, 15, 20, 1], [3, 14, 15, 1], [3, 12, 0, 1], [18, 1, 7, 1], [18, 3, 12, 1], [18, 8, 16, 1], [18, 3, 12, 1], [18, 1, 7, 1], [18, 7, 4, 1], [3, 16, 12, 1], [3, 1, 7, 1], [3, 7, 4, 1], [23, 4, 12, 1], [23, 1, 7, 1], [23, 8, 4, 1], [18, 1, 7, 1], [3, 1, 7, 1], [18, 4, 5, 1], [18, 1, 7, 1], [18, 3, 12, 1], [18, 8, 16, 1], [18, 5, 6, 1], [7, 1, 18, 1], [12, 1, 18, 3], [16, 1, 18, 8], [5, 1, 18, 4], [18, 1, 7, 1], [5, 1, 23, 5], [23, 1, 7, 1], [23, 3, 7, 1], [23, 16, 20, 1], [23, 15, 15, 1], [23, 14, 24, 1], [23, 1, 7, 1], [3, 1, 7, 1], [18, 1, 7, 1], [11, 1, 7, 1], [11, 2, 12, 1], [17, 1, 7, 1], [18, 10, 17, 10], [18, 3, 17, 3], [18, 4, 17, 4], [18, 8, 16, 1], [18, 3, 12, 1], [18, 1, 7, 1], [18, 8, 16, 1], [7, 1, 18, 1], [18, 3, 12, 1], [18, 4, 5, 1], [5, 5, 4, 1], [18, 8, 16, 1], [18, 1, 7, 1], [18, 3, 12, 1], [18, 5, 6, 1], [18, 9, 13, 1], [7, 1, 18, 1], [16, 1, 18, 8], [7, 1, 18, 1], [16, 1, 18, 8], [18, 1, 7, 1], [18, 3, 12, 1], [23, 1, 7, 1], [23, 4, 12, 1], [3, 1, 7, 1], [3, 16, 12, 1], [12, 1, 23, 4], [7, 1, 23, 1], [23, 4, 12, 1], [7, 1, 23, 1], [18, 3, 12, 1], [18, 1, 7, 1], [18, 8, 16, 1], [5, 1, 18, 4], [18, 1, 7, 1], [5, 1, 23, 5], [23, 1, 7, 1], [5, 1, 3, 8], [3, 1, 7, 1], [5, 5, 4, 1], [4, 8, 16, 24], [4, 9, 16, 25], [18, 1, 7, 1], [5, 1, 18, 4], [23, 5, 5, 1], [5, 5, 4, 1], [23, 4, 12, 1], [23, 1, 7, 1], [3, 18, 2, 17], [3, 16, 2, 3], [12, 1, 3, 16], [3, 15, 20, 1], [3, 1, 7, 1], [18, 8, 16, 1], [18, 8, 16, 1], [18, 8, 16, 1], [18, 8, 16, 1], [18, 8, 16, 1], [18, 8, 16, 1], [18, 8, 16, 1], [18, 8, 16, 1], [18, 4, 5, 1], [23, 1, 7, 1], [18, 1, 7, 1], [22, 14, 23, 18], [23, 4, 22, 3], [23, 1, 7, 1], [2, 17, 3, 18], [3, 16, 2, 3], [3, 1, 7, 1], [17, 10, 18, 10], [18, 3, 17, 3], [18, 1, 7, 1], [23, 4, 18, 3], [3, 16, 18, 3], [12, 1, 3, 16], [7, 1, 3, 1], [3, 18, 2, 17], [3, 16, 2, 3], [12, 1, 18, 3], [7, 1, 18, 1], [18, 10, 17, 10], [18, 3, 17, 3], [12, 1, 23, 4], [7, 1, 23, 1], [23, 18, 22, 14], [23, 4, 22, 3], [18, 4, 5, 1], [18, 10, 17, 10], [18, 3, 17, 3], [18, 4, 5, 1], [18, 3, 12, 1], [18, 8, 16, 1], [5, 5, 4, 1], [16, 26, 4, 10], [18, 10, 17, 10], [18, 3, 17, 3], [18, 4, 5, 1], [18, 3, 12, 1], [18, 8, 16, 1], [5, 5, 4, 1], [16, 26, 4, 10]]

# 将每个元素转换为一个由4个长度为35的数组组成的矩阵
matrices = []
for element in data:
    matrix = np.zeros((4, 35))  # 创建一个4x35的零矩阵
    for i, num in enumerate(element):
        matrix[i][num] = 1  # 将对应索引位置设为1
    matrices.append(matrix)

# 将矩阵转换为向量形式
vectors = [matrix.flatten() for matrix in matrices]

# 使用K-means算法对向量进行聚类
kmeans = KMeans(n_clusters=2, random_state=0).fit(vectors)

# 将聚类结果可视化
fig, axs = plt.subplots(1, len(data), figsize=(15, 5))
for i, (matrix, label) in enumerate(zip(matrices, kmeans.labels_)):
    axs[i].imshow(matrix, cmap='gray')
    axs[i].set_title(f'Cluster {label}')
    axs[i].axis('off')

plt.tight_layout()
plt.show()
